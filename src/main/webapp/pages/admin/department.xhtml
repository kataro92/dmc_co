<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:p="http://primefaces.org/ui"
      xmlns:c="http://java.sun.com/jsp/jstl/core">
<h:body>
    <ui:composition template="../../layouts/layout_home.xhtml">
        <ui:define name="content">
            <p:growl keepAlive="3000" id="messages" showDetail="true" closable="true" escape="false">
                <p:autoUpdate />
            </p:growl>
            <p:outputPanel id="pnlList" styleClass="ui-ng card ui-g-4"
                           rendered="#{deptMgr.currentAct == enumBox.getState('VIEW')}">
                <div class="card-header text-center">
                    <p:commandLink id="btnAdd" disabled="#{deptMgr.disableAdd}"
                                   styleClass="btn btn-blue btn-md" value="Thêm"
                                   update=":main" />
                    <p:commandLink id="btnCopy" disabled="#{deptMgr.disableCopy}"
                                   styleClass="btn btn-blue btn-md" value="Chép"
                                   update=":main" />
                    <p:commandLink id="btnEdit" disabled="#{deptMgr.disableEdit}"
                                   styleClass="btn btn-blue btn-md" value="Sửa"
                                   update=":main" />
                    <p:commandLink id="btnDelete" disabled="#{deptMgr.disableDelete}"
                                   styleClass="btn btn-blue btn-md" value="Xoá"
                                   update=":main" />
                </div>
                <p:treeTable value="#{deptMgr.root}" tableStyleClass="card-body" var="dept">
                    <p:column headerText="Tên phòng ban">
                        <h:outputText value="" />
                    </p:column>
                    <p:column headerText="Trạng thái" style="width: 160px">
                        <h:outputText value="" />
                    </p:column>
                </p:treeTable>
                <div class="card-footer">
                    <!--Tổng cộng #{deptMgr.lstAllUser.size()} bản ghi-->
                </div>
            </p:outputPanel>

            <p:outputPanel id="pnlDetail" styleClass="#{deptMgr.currentAct == enumBox.getState('VIEW') ? 'ui-g-8' : 'ui-g-12'} ui-g-nopad form-group card">
                <div class="card-header bg-primary text-white">
                    <h:outputText value="Màn hình quản lí phòng ban" rendered="#{deptMgr.currentAct == enumBox.getState('VIEW')}"/>
                    <p:commandLink styleClass="btn btn-light-blue pull-right"
                                   rendered="#{deptMgr.currentAct == enumBox.getState('ADD') || deptMgr.currentAct == enumBox.getState('COPY') || deptMgr.currentAct == enumBox.getState('EDIT')}"
                                   actionListener="#{deptMgr.actBack()}" value="Quay lại"
                                   update=":main" />
                    <p:commandLink styleClass="btn btn-light-green pull-right"
                                   rendered="#{deptMgr.currentAct == enumBox.getState('ADD') || deptMgr.currentAct == enumBox.getState('COPY') || deptMgr.currentAct == enumBox.getState('EDIT')}"
                                   actionListener="#{deptMgr.actAccept()}" value="Đồng ý"
                                   update=":main" />
                </div>
                <div class="card-body">

                </div>
                <div class="card-header bg-primary text-white">
                    <h:outputText value="Danh sách nhân viên" />
                </div>
                <div class="card-footer">

                </div>
            </p:outputPanel>
        </ui:define>
    </ui:composition>
</h:body>
</html>
